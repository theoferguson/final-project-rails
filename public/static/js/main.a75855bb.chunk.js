(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{146:function(e,t,n){},147:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(54),s=n.n(c),i=(n(146),n(11)),r=(n(147),n(175)),o=n(169),l=n(176),u=n(173),j=n(1);var d=function(e){var t=e.onLogin,n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],d=c[1],b=Object(a.useState)(""),O=Object(i.a)(b,2),h=O[0],x=O[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.a,{as:"h1",color:"teal",textAlign:"center",children:"TRUCKING EXCHANGE NETWORK"}),Object(j.jsx)(r.a,{as:"h2",color:"teal",textAlign:"center",children:"Log-in to an account"}),Object(j.jsx)(o.a,{onSubmit:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:h})}).then((function(e){return e.json()})).then((function(e){return t(e)}))},children:Object(j.jsxs)(l.a,{stacked:!0,children:[Object(j.jsx)(o.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username",type:"text",value:s,onChange:function(e){return d(e.target.value)}}),Object(j.jsx)(o.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",value:h,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)(u.a,{color:"teal",fluid:!0,type:"submit",children:"Login"})]})})]})},b=n(59),O=n(10);var h=function(){return Object(j.jsx)("div",{children:"about us"})},x=n(33),f=n(168),g=n(172);var m=function(e){var t=e.marketplace,n=e.handleFilter,c=Object(a.useState)(null),s=Object(i.a)(c,2),r=s[0],o=s[1];function l(e,t){r===t.index?o(null):o(t.index)}var u=Object(j.jsx)(f.a,{secondary:!0,fluid:!0,vertical:!0,children:t.map((function(e){return e.offering.origin})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return Object(j.jsx)(f.a.Item,{id:"origin",onClick:n,content:e},e)}))}),d=Object(j.jsx)(f.a,{secondary:!0,fluid:!0,vertical:!0,children:t.map((function(e){return e.offering.destination})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return Object(j.jsx)(f.a.Item,{id:"destination",onClick:n,content:e},e)}))}),b=Object(j.jsxs)(f.a,{secondary:!0,fluid:!0,vertical:!0,children:[t.some((function(e){return e.offering.full_truckload}))?Object(j.jsx)(f.a.Item,{id:"full_truckload",onClick:n,content:"FTL"}):null,t.some((function(e){return e.offering.less_than_truckload}))?Object(j.jsx)(f.a.Item,{id:"less_than_truckload",onClick:n,content:"LTL"}):null]});return Object(j.jsxs)(g.a,{as:f.a,vertical:!0,children:[Object(j.jsxs)(f.a,{text:!0,fluid:!0,children:[Object(j.jsx)(f.a.Item,{header:!0,children:"Filter by:"}),Object(j.jsx)(f.a.Menu,{position:"right",children:Object(j.jsx)(f.a.Item,{name:"clear",onClick:function(){o(null),n("clear")},children:"clear"})})]}),Object(j.jsxs)(f.a.Item,{children:[Object(j.jsx)(g.a.Title,{active:0===r,index:0,content:"Origin City",onClick:l}),Object(j.jsx)(g.a.Content,{active:0===r,content:u})]}),Object(j.jsxs)(f.a.Item,{children:[Object(j.jsx)(g.a.Title,{active:1===r,index:1,content:"Destination City",onClick:l}),Object(j.jsx)(g.a.Content,{active:1===r,content:d})]}),Object(j.jsxs)(f.a.Item,{children:[Object(j.jsx)(g.a.Title,{active:2===r,index:2,content:"FTL LTL",onClick:l}),Object(j.jsx)(g.a.Content,{active:2===r,content:b})]})]})},p=n(171),v=n(170);var k=function(e){var t=e.post,n=e.user,c=e.issueRequest,s=e.setIssueRequest,r=Object(a.useState)(!1),l=Object(i.a)(r,2),d=l[0],b=l[1],O=Object(a.useState)({}),h=Object(i.a)(O,2),x=h[0],f=h[1],g=t.offering.user.id;return Object(j.jsx)(p.a,{children:Object(j.jsxs)(p.a.Content,{children:[Object(j.jsx)(p.a.Header,{children:t.offering.name}),Object(j.jsx)(p.a.Meta,{children:t.offering.user.username}),Object(j.jsxs)(p.a.Description,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Destination:"})," ",t.offering.destination]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Origin:"})," ",t.offering.origin]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Delivery Date:"})," ",t.offering.destination_date.slice(0,10)]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Departure Date:"})," ",t.offering.origin_date.slice(0,10)]}),t.offering.full_truckload?Object(j.jsx)("div",{children:Object(j.jsx)("strong",{children:"Full Truckload Available"})}):null,t.offering.less_than_truckload?Object(j.jsx)("div",{children:Object(j.jsx)("strong",{children:"Partial Truckload Available"})}):null]}),g===n.id?null:Object(j.jsx)(p.a.Content,{extra:!0,children:Object(j.jsxs)(v.a,{centered:!1,open:d,onClose:function(){return b(!1)},onOpen:function(){return b(!0)},trigger:Object(j.jsxs)(u.a,{basic:!0,fluid:!0,children:[Object(j.jsx)("i",{className:"user icon"}),"Contact User"]}),children:[Object(j.jsx)(v.a.Header,{children:"Write a message to this provider, include your contact details."}),Object(j.jsx)(v.a.Content,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(o.a.Field,{children:Object(j.jsx)("label",{children:Object(j.jsx)(o.a.Input,{type:"text",name:"message",value:x.message,onChange:function(e){f({user_id:g,post_id:t.id,message:e.target.value})}})})})})}),Object(j.jsx)(v.a.Actions,{children:Object(j.jsxs)(u.a.Group,{children:[Object(j.jsx)(u.a,{onClick:function(){return b(!1)},children:"Cancel"}),Object(j.jsx)(u.a.Or,{}),Object(j.jsx)(u.a,{positive:!0,onClick:function(e){console.log(x),e.preventDefault(),fetch("/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}).then((function(e){return e.json()})).then((function(e){console.log(e),b(!1),f({}),s(!c)}))},children:"Send"})]})})]})})]})})};var y=function(e){var t=e.marketplace,n=e.user,a=e.category,c=e.issueRequest,s=e.setIssueRequest;function i(e){return Object(j.jsx)(k,{post:e,user:n,issueRequest:c,setIssueRequest:s},e.id)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"Market Listings"}),0!==Object.keys(a).length?Object(j.jsx)(p.a.Group,{children:t.map((function(e){var t=Object.keys(a)[0],n=Object.values(a)[0];if(e.offering[t]===n)return i(e)}))}):Object(j.jsx)(p.a.Group,{children:t.map((function(e){return i(e)}))})]})},C=n(177);var I=function(e){var t=e.marketplace,n=e.user,c=e.issueRequest,s=e.setIssueRequest,r=Object(a.useState)({}),o=Object(i.a)(r,2),l=o[0],u=o[1];return Object(j.jsxs)(C.a,{celled:!0,children:[Object(j.jsx)(C.a.Row,{}),Object(j.jsxs)(C.a.Row,{children:[Object(j.jsx)(C.a.Column,{width:5,children:Object(j.jsx)(m,{marketplace:t,handleFilter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.content;u("clear"===e?{}:"LTL"===n||"FTL"===n?Object(x.a)({},e.target.id,!0):Object(x.a)({},e.target.id,n))}})}),Object(j.jsx)(C.a.Column,{width:8,children:Object(j.jsx)(y,{marketplace:t,user:n,category:l,issueRequest:c,setIssueRequest:s})})]})]})},S=n(30),T=n(167);var _=function(e){var t=e.offering,n=e.marketplace,a=e.issueRequest,c=e.setIssueRequest;function s(){console.log(t),fetch("/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){c(!a)}))}function i(){var e=n.find((function(e){return e.offering.id===t.id}));console.log(e.id),fetch("/posts/".concat(e.id),{method:"DELETE"}).then(c(!a))}return Object(j.jsxs)(p.a,{children:[Object(j.jsxs)(p.a.Content,{children:[Object(j.jsx)(p.a.Header,{children:t.name}),Object(j.jsx)(p.a.Meta,{children:t.user.username}),Object(j.jsxs)(p.a.Description,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Destination:"})," ",t.destination]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Origin:"})," ",t.origin]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Delivery Date:"})," ",t.destination_date.slice(0,10)]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Departure Date:"})," ",t.origin_date.slice(0,10)]}),t.full_truckload?Object(j.jsx)("div",{children:Object(j.jsx)("strong",{children:"Full Truckload Available"})}):null,t.less_than_truckload?Object(j.jsx)("div",{children:Object(j.jsx)("strong",{children:"Partial Truckload Available"})}):null]})]}),Object(j.jsxs)(p.a.Content,{children:[n.some((function(e){return e.offering.id===t.id}))?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p.a.Content,{children:"Posted to marketplace"}),Object(j.jsx)(u.a,{className:"post_button",onClick:i,basic:!0,fluid:!0,color:"red",children:"Remove from Marketplace"})]}):t.user.email?Object(j.jsx)(u.a,{basic:!0,fluid:!0,color:"teal",className:"post_button",onClick:s,children:"Post offering"}):Object(j.jsx)(p.a.Content,{children:"Update valid email to post to marketplace"}),Object(j.jsx)(u.a,{onClick:function(){n.some((function(e){return e.offering.id===t.id}))?(i(),fetch("/offerings/".concat(t.id),{method:"DELETE"}).then(c(!a))):fetch("/offerings/".concat(t.id),{method:"DELETE"}).then(c(!a))},basic:!0,fluid:!0,color:"red",children:"Delete Offering"})]})]})};var A=function(e){var t=e.user,n=e.marketplace,c=e.setUser,s=e.issueRequest,r=e.setIssueRequest,d=Object(a.useState)(!1),b=Object(i.a)(d,2),O=b[0],h=b[1],f=Object(a.useState)({}),g=Object(i.a)(f,2),m=g[0],p=g[1],k=Object(a.useState)(t.offerings),y=Object(i.a)(k,2),C=y[0],I=y[1];Object(a.useEffect)((function(){fetch("/me/offerings").then((function(e){e.ok&&e.json().then((function(e){return I(e)}))}))}),[s]);var A=[{text:"Montgomery, AL",value:"Montgomery",key:"AL"},{text:"Juneau, AK",value:"Juneau",key:"AK"},{text:"Phoenix, AZ",value:"Phoenix",key:"AZ"},{text:"Little Rock, AR",value:"Little Rock",key:"AR"},{text:"Sacramento, CA",value:"Sacramento",key:"CA"},{text:"Denver, CO",value:"Denver",key:"CO"},{text:"Hartford, CT",value:"Hartford",key:"CT"},{text:"Dover, DE",value:"Dover",key:"DE"},{text:"Tallahassee, FL",value:"Tallahassee",key:"FL"},{text:"Atlanta, GA",value:"Atlanta",key:"GA"},{text:"Honolulu, HI",value:"Honolulu",key:"HI"},{text:"Boise, ID",value:"Boise",key:"ID"},{text:"Springfield, IL",value:"Springfield",key:"IL"},{text:"Indianapolis, IN",value:"Indianapolis",key:"IN"},{text:"Des Moines, IA",value:"Des Moines",key:"IA"},{text:"Topeka, KS",value:"Topeka",key:"KS"},{text:"Frankfort, KY",value:"Frankfort",key:"KY"},{text:"Baton Rouge, LA",value:"Baton Rouge",key:"LA"},{text:"Augusta, ME",value:"Augusta",key:"ME"},{text:"Annapolis, MD",value:"Annapolis",key:"MD"},{text:"Boston, MA",value:"Boston",key:"MA"},{text:"Lansing, MI",value:"Lansing",key:"MI"},{text:"Saint Paul, MN",value:"Saint Paul",key:"MN"},{text:"Jackson, MS",value:"Jackson",key:"MS"},{text:"Jefferson City, MO",value:"Jefferson City",key:"MO"},{text:"Helena, MT",value:"Helena",key:"MT"},{text:"Lincoln, NE",value:"Lincoln",key:"NE"},{text:"Carson City, NV",value:"Carson City",key:"NV"},{text:"Concord, NH",value:"Concord",key:"NH"},{text:"Trenton, NJ",value:"Trenton",key:"NJ"},{text:"Santa Fe, NM",value:"Santa Fe",key:"NM"},{text:"Albany, NY",value:"Albany",key:"NY"},{text:"Raleigh, NC",value:"Raleigh",key:"NC"},{text:"Bismarck, ND",value:"Bismarck",key:"ND"},{text:"Columbus, OH",value:"Columbus",key:"OH"},{text:"Oklahoma City, OK",value:"Oklahoma City",key:"OK"},{text:"Salem, OR",value:"Salem",key:"OR"},{text:"Harrisburg, PA",value:"Harrisburg",key:"PA"},{text:"Providence, RI",value:"Providence",key:"RI"},{text:"Columbia, SC",value:"Columbia",key:"SC"},{text:"Pierre, SD",value:"Pierre",key:"SD"},{text:"Nashville, TN",value:"Nashville",key:"TN"},{text:"Austin, TX",value:"Austin",key:"TX"},{text:"Salt Lake City, UT",value:"Salt Lake City",key:"UT"},{text:"Montpelier, VT",value:"Montpelier",key:"VT"},{text:"Richmond, VA",value:"Richmond",key:"VA"},{text:"Olympia, WA",value:"Olympia",key:"WA"},{text:"Charleston, WV",value:"Charleston",key:"WV"},{text:"Madison, WI",value:"Madison",key:"WI"},{text:"Cheyenne, WY",value:"Cheyenne",key:"WY"}];function R(e){"less_than_truckload"===e.target.id||"full_truckload"===e.target.id?p(Object(S.a)(Object(S.a)({},m),{},Object(x.a)({},e.target.name,e.target.checked))):"onClick"===e._reactName?p(Object(S.a)(Object(S.a)({},m),{},Object(x.a)({},e.target.parentElement.parentElement.id,e.target.innerText))):p(Object(S.a)(Object(S.a)({},m),{},Object(x.a)({},e.target.name,e.target.value)))}return Object(a.useEffect)((function(){console.log(m)}),[m]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.a,{basic:!0,fluid:!0,color:"teal",onClick:function(){return h(!0)},children:"Add New Offering"}),Object(j.jsxs)(v.a,{dimmer:O?"blurring":void 0,open:O,onClose:function(){return h(!1)},centered:!0,children:[Object(j.jsx)(v.a.Header,{children:"New offering:"}),Object(j.jsx)(v.a.Content,{children:Object(j.jsxs)(o.a,{onSubmit:function(e){e.preventDefault(),fetch("/offerings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then((function(e){return e.json()})).then((function(e){console.log(e),p({}),h(!1),r(!s)}))},children:[Object(j.jsx)(o.a.Field,{children:Object(j.jsxs)("label",{children:["Offering name:",Object(j.jsx)(o.a.Input,{type:"text",name:"name",value:m.name?m.name:"",onChange:R})]})}),Object(j.jsx)(o.a.Field,{children:Object(j.jsxs)("label",{children:["Asking Price (total $):",Object(j.jsx)(o.a.Input,{type:"text",name:"asking_price",value:m.asking_price?m.asking_price:"",onChange:R})]})}),Object(j.jsxs)(o.a.Field,{children:[Object(j.jsx)("label",{htmlFor:"less_than_truckload",children:"Less than truckload (LTL)?"}),Object(j.jsx)("input",{type:"checkbox",id:"less_than_truckload",name:"less_than_truckload",value:m.less_than_truckload?m.less_than_truckload:"",onChange:R})]}),Object(j.jsxs)(o.a.Field,{children:[Object(j.jsx)("label",{htmlFor:"full_truckload",children:"Full truckload (FTL)?"}),Object(j.jsx)("input",{type:"checkbox",id:"full_truckload",name:"full_truckload",value:m.full_truckload?m.full_truckload:"",onChange:R})]}),Object(j.jsxs)(o.a.Field,{children:[Object(j.jsx)("label",{children:"Origin City:"}),Object(j.jsx)(T.a,{options:A,placeholder:m.origin?m.origin:"origin",search:!0,selection:!0,onChange:R,id:"origin",value:m.origin?m.origin:""})]}),Object(j.jsx)(o.a.Field,{children:Object(j.jsxs)("label",{children:["Origin date:",Object(j.jsx)(o.a.Input,{type:"date",name:"origin_date",value:m.origin_date?m.origin_date:"",onChange:R})]})}),Object(j.jsxs)(o.a.Field,{children:[Object(j.jsx)("label",{children:"Destination City:"}),Object(j.jsx)(T.a,{options:A,placeholder:m.destination?m.destination:"destination",search:!0,selection:!0,onChange:R,id:"destination",value:m.destination?m.destination:""})]}),Object(j.jsx)(o.a.Field,{children:Object(j.jsxs)("label",{children:["Destination date:",Object(j.jsx)(o.a.Input,{type:"date",name:"destination_date",value:m.destination_date?m.destination_date:"",onChange:R})]})}),Object(j.jsx)(v.a.Actions,{children:Object(j.jsx)(u.a,{type:"submit",value:"Create new offering",color:"teal",children:"Submit Offering"})})]})})]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)("h3",{children:"Your Offerings"}),C.map((function(e){return Object(j.jsx)(_,{offering:e,marketplace:n,user:t,setUser:c,issueRequest:s,setIssueRequest:r},e.id)}))]})]})},R=n(179);var D=function(e){var t=e.user,n=e.setUser,c=Object(a.useState)({}),s=Object(i.a)(c,2),r=s[0],l=s[1],d=Object(a.useState)(!1),b=Object(i.a)(d,2),O=b[0],h=b[1];function f(e){console.log(O),l("capacity_provider"===e?Object(S.a)(Object(S.a)({},r),{},{capacity_provider:O}):Object(S.a)(Object(S.a)({},r),{},Object(x.a)({},e.target.name,e.target.value)))}return Object(a.useEffect)((function(){console.log(r)}),[r]),Object(j.jsxs)(o.a,{onSubmit:function(e){e.preventDefault(),fetch("/users/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){console.log(e),n(e),l({})}))},children:[Object(j.jsx)(o.a.Field,{children:Object(j.jsxs)("label",{children:["Name:",Object(j.jsx)("input",{type:"text",name:"name",value:r.name||t.name||"",onChange:f})]})}),Object(j.jsx)(o.a.Field,{children:Object(j.jsxs)("label",{children:["Email:",Object(j.jsx)("input",{type:"text",name:"email",value:r.email||t.email||"",onChange:f})]})}),Object(j.jsx)(o.a.Field,{children:Object(j.jsxs)("label",{children:["Company:",Object(j.jsx)("input",{type:"text",name:"company",value:r.company||t.company||"",onChange:f})]})}),Object(j.jsx)(o.a.Field,{children:Object(j.jsx)(R.a,{label:"Capacity provider?",name:"capacity_provider",onChange:function(){h(!O),f("capacity_provider")},checked:!O})}),Object(j.jsx)(o.a.Field,{children:Object(j.jsxs)("label",{children:["Main Location:",Object(j.jsx)("input",{type:"text",name:"location",value:r.location||t.location||"",onChange:f})]})}),Object(j.jsx)(o.a.Field,{children:Object(j.jsxs)("label",{children:["Main Industry:",Object(j.jsx)("input",{type:"text",name:"industry",value:r.industry||t.industry||"",onChange:f})]})}),Object(j.jsx)(u.a,{disabled:0===Object.keys(r).length,basic:!0,fluid:!0,color:"teal",type:"submit",children:"Save Settings"})]})};var N=function(){return Object(j.jsx)("div",{children:"Market data to come..."})};var L=function(e){var t=e.user,n=e.setUser,a=e.marketplace,c=e.setIssueRequest,s=e.issueRequest;return Object(j.jsxs)(C.a,{divided:!0,children:[Object(j.jsxs)(C.a.Column,{width:8,children:[Object(j.jsx)(l.a,{children:Object(j.jsx)(D,{user:t,setUser:n})}),Object(j.jsx)(l.a,{children:Object(j.jsx)(N,{})})]}),Object(j.jsx)(C.a.Column,{width:8,children:Object(j.jsx)(A,{user:t,marketplace:a,setUser:n,issueRequest:s,setIssueRequest:c})})]})};var F=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),r=Object(i.a)(s,2),o=r[0],d=r[1];return Object(a.useEffect)((function(){fetch("/me/inbox").then((function(e){return e.json()})).then((function(e){c(e)}))}),[]),Object(a.useEffect)((function(){fetch("/me/outbox").then((function(e){return e.json()})).then((function(e){d(e)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.a,{children:Object(j.jsxs)(p.a.Group,{children:["Inbox:",n.map((function(e){return console.log(e),Object(j.jsx)(p.a,{children:Object(j.jsxs)(p.a.Content,{children:[Object(j.jsx)(p.a.Header,{content:"From: ".concat(e.sender.username)}),Object(j.jsx)(p.a.Header,{content:"re: ".concat(e.post.offering.name)}),Object(j.jsx)(p.a.Meta,{content:e.sender.name}),Object(j.jsx)(p.a.Description,{content:e.message})]})},e.id)}))]})}),Object(j.jsx)(l.a,{children:Object(j.jsxs)(p.a.Group,{children:["Outbox:",o.map((function(e){return console.log(e),Object(j.jsx)(p.a,{children:Object(j.jsxs)(p.a.Content,{children:[Object(j.jsx)(p.a.Header,{content:"To: ".concat(e.user.name," (").concat(e.user.username,")")}),Object(j.jsx)(p.a.Header,{content:"re: ".concat(e.post.offering.name)}),Object(j.jsx)(p.a.Meta,{content:e.sender.name}),Object(j.jsx)(l.a,{children:Object(j.jsx)(p.a.Description,{content:e.message})}),Object(j.jsx)(p.a.Content,{extra:!0,children:Object(j.jsx)(u.a,{basic:!0,compact:!0,color:"red",onClick:function(){return function(e){d(o.filter((function(t){return t!==e}))),fetch("/messages/".concat(e.id),{method:"DELETE"})}(e)},children:"Delete"})})]})},e.id)}))]})})]})};var M=function(e){var t=e.onLogout,n=e.user,c=e.setUser,s=e.marketplace,r=e.setIssueRequest,o=e.issueRequest,u=Object(a.useState)({activeItem:"userpage"}),d=Object(i.a)(u,2),x=d[0],g=d[1];function m(e,t){var n=t.name;g({activeItem:n})}return Object(j.jsxs)("div",{children:[Object(j.jsxs)(f.a,{pointing:!0,secondary:!0,children:[Object(j.jsx)(f.a.Item,{as:b.b,className:"navigation",to:"/userpage",name:"User Page",active:"userpage"===x,onClick:m}),Object(j.jsx)(f.a.Item,{as:b.b,name:"Marketplace",className:"navigation",to:"/marketplace",active:"marketplace"===x,onClick:m}),Object(j.jsx)(f.a.Item,{as:b.b,name:"About Us",className:"navigation",to:"/about",active:"about"===x,onClick:m}),Object(j.jsxs)(f.a.Menu,{position:"right",children:[Object(j.jsxs)(f.a.Item,{as:b.b,name:"Messages",className:"navigation",to:"/messages",active:"messages"===x,onClick:m,children:[0!==n.messages.length?Object(j.jsx)("i",{"aria-hidden":"true",className:"red envelope square icon"}):null,"Messages"]}),Object(j.jsx)(f.a.Item,{className:"navigation",onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(){return t()}))},name:"Logout"})]})]}),Object(j.jsx)(l.a,{children:Object(j.jsxs)(O.c,{children:[Object(j.jsx)(O.a,{path:"/messages",element:Object(j.jsx)(F,{})}),Object(j.jsx)(O.a,{path:"/about",element:Object(j.jsx)(h,{})}),Object(j.jsx)(O.a,{path:"/marketplace",element:Object(j.jsx)(I,{marketplace:s,user:n,issueRequest:o,setIssueRequest:r})}),Object(j.jsx)(O.a,{path:"/userpage",element:Object(j.jsx)(L,{user:n,setUser:c,marketplace:s,issueRequest:o,setIssueRequest:r})}),Object(j.jsx)(O.a,{path:"/",element:Object(j.jsx)(L,{user:n,setUser:c,marketplace:s,issueRequest:o,setIssueRequest:r})})]})})]})};var E=function(e){var t=e.onSignUp,n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],d=c[1],b=Object(a.useState)(""),O=Object(i.a)(b,2),h=O[0],x=O[1],f=Object(a.useState)(""),g=Object(i.a)(f,2),m=g[0],p=g[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.a,{as:"h2",color:"teal",textAlign:"center",children:"Sign-up for an account"}),Object(j.jsx)(o.a,{onSubmit:function(e){e.preventDefault(),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:h,password_confirmation:m})}).then((function(e){return e.json()})).then((function(e){return t(e)}))},children:Object(j.jsxs)(l.a,{stacked:!0,children:[Object(j.jsx)(o.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username",type:"text",value:s,onChange:function(e){return d(e.target.value)}}),Object(j.jsx)(o.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",id:"password",value:h,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)(o.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",id:"password_confirmation",value:m,onChange:function(e){return p(e.target.value)}}),Object(j.jsx)(u.a,{color:"teal",fluid:!0,type:"submit",children:"Submit"})]})})]})};var P=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),r=Object(i.a)(s,2),o=r[0],l=r[1],u=Object(a.useState)([]),O=Object(i.a)(u,2),h=O[0],x=O[1];return Object(a.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return c(e)}))}))}),[o]),Object(a.useEffect)((function(){fetch("/posts").then((function(e){return e.json()})).then((function(e){x(e)}))}),[o]),n?Object(j.jsx)(b.a,{children:Object(j.jsx)(M,{onLogout:function(){c(null)},user:n,setUser:c,marketplace:h,issueRequest:o,setIssueRequest:l})}):Object(j.jsx)(C.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(j.jsxs)(C.a.Column,{style:{maxWidth:450},children:[Object(j.jsx)(d,{onLogin:function(e){e.username?(c(e),l(!o)):console.log(e)}}),Object(j.jsx)(E,{onSignUp:function(e){e.username?(c(e),l(!o)):console.log(e)}})]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,180)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};n(155);s.a.render(Object(j.jsx)(P,{}),document.getElementById("root")),q()}},[[156,1,2]]]);
//# sourceMappingURL=main.a75855bb.chunk.js.map